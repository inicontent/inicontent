import{a as x,G as _,H as c,I as k,C as $,h as e}from"./entry.965cbfb6.js";import{u as z,t as r,N as C}from"./useLanguage.253ae023.js";import{u as G}from"./composables.afeb471a.js";import{b as S}from"./fetch.eef88911.js";import{b as H}from"./index.d4f86f82.js";import{q as P,u as R,N as g,F as f,v as T,w as v}from"./FileText.cd6a6f0c.js";import{N as A}from"./Space.f818dfb9.js";import{N as b}from"./Image.503ecb01.js";import{N as w}from"./Icon.f74efb11.js";import{N as i,a as F}from"./text.4d5a7e92.js";import{N as L}from"./Time.9226a68e.js";import"./index.32cff159.js";import"./format-length.ad42f3fa.js";import"./Scrollbar.f1d32ba1.js";import"./use-is-composing.b2f0b09a.js";import"./use-houdini.66c23f06.js";const ee=x({async setup(){const y=_("Language");z({ar:{assets:"\u0627\u0644\u0645\u0644\u0641\u0627\u062A \u0648\u0627\u0644\u0635\u0648\u0631",name:"\u0627\u0644\u0625\u0633\u0645",size:"\u0627\u0644\u062D\u062C\u0645",type:"\u0627\u0644\u0646\u0648\u0639",link:"\u0627\u0644\u0631\u0627\u0628\u0637",created_at:"\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0631\u0641\u0639"},en:{assets:"Assets",name:"Name",size:"Size",type:"Type",link:"Link",created_at:"Uplaoded at"}});const o=c("database");G({title:`${o.value.name} | ${r("assets")}`,link:[{rel:"icon",href:o.value.icon}]});const B=(a,p=!1,d=1)=>{const l=p?1e3:1024;if(Math.abs(a)<l)return a+" B";const m=p?["kB","MB","GB","TB","PB","EB","ZB","YB"]:["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"];let u=-1;const h=10**d;do a/=l,++u;while(Math.round(Math.abs(a)*h)/h>=l&&u<m.length-1);return a.toFixed(d)+" "+m[u]},N=k(),s=c("User"),{data:n}=await S(`https://api.inicontent.com/${N.params.db_slug}/assets`,{headers:s.value&&s.value.username&&s.value.password?{Authorization:"Basic "+H.Buffer.from(`${s.value.username}:${s.value.password}`).toString("base64")}:{},transform:a=>a.result,initialCache:!1},"$gZ9QKB6X8q"),t=$({});return()=>[e(P,{show:t.value.hasOwnProperty("name"),"on-update:show":a=>a===!1?t.value={}:null,placement:y.value==="ar"?"left":"right"},()=>e(R,{nativeScrollbar:!1,closable:!0},{header:()=>t.value.name,default:()=>t.value.hasOwnProperty("name")?e(A,{vertical:!0},()=>[["png","jpg","jpeg","ico","webp","svg","gif"].includes(t.value.public_url.split(".").pop())?e(b,{style:{height:"100%",width:"100%",minHeight:"60px",borderRadius:"15px"},src:`${t.value.public_url}?fit=100`,previewSrc:t.value.public_url,imgProps:{style:"width: 100%"}}):e(w,{style:{height:"100%",width:"100%",minHeight:"60px",borderRadius:"15px",position:"absolute"}},()=>e(g,{href:t.value.public_url,target:"_blank"},()=>e(f,{style:{width:"100%",height:"100%"}}))),e("div",{},{default:()=>[e(i,{strong:!0},()=>`${r("name")}: `),e(i,()=>t.value.name)]}),e("div",{},{default:()=>[e(i,{strong:!0},()=>`${r("size")}: `),e(i,()=>B(t.value.size))]}),e("div",{},{default:()=>[e(i,{strong:!0},()=>`${r("type")}: `),e(i,()=>t.value.mime_type)]}),e("div",{},{default:()=>[e(i,{strong:!0},()=>`${r("link")}: `),e(g,{target:"_blank",href:t.value.public_url},()=>t.value.public_url)]}),e("div",{},{default:()=>[e(i,{strong:!0},()=>`${r("created_at")}: `),e(L,{time:t.value.created_at,unix:!0})]})]):null})),e(C,{title:r("assets"),id:"assets_card",style:{height:"fit-content"}},{default:()=>[e(T,{xGap:"12px",yGap:"12px",cols:"300:3 500:4 650:6 900:8 1000:10"},()=>Array.isArray(n.value)?n.value.map(a=>e(v,{style:{position:"relative",display:"flex"}},()=>["png","jpg","jpeg","ico","webp","svg","gif"].includes(a.public_url.split(".").pop())?e(b,{onClick:()=>t.value=a,previewDisabled:!0,style:{cursor:"pointer",height:"100%",width:"100%",minHeight:"60px",borderRadius:"15px"},intersectionObserverOptions:{root:"#assets_card"},lazy:!0,src:`${a.public_url}?fit=60`,imgProps:{style:"width: 100%"}}):e(w,{onClick:()=>t.value=a,style:{cursor:"pointer",height:"100%",width:"100%",minHeight:"60px",borderRadius:"15px",position:"absolute"}},()=>e(f,{style:{width:"100%",height:"100%"}})))):[...Array(20).keys()].map(()=>e(v,()=>e(F,{style:{width:"100%",height:"100%",minHeight:"100px",borderRadius:"15px"}}))))]})]}});export{ee as default};
